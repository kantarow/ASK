<%= render "layouts/error_messages", model: @item %>
  <div class="editor">
    <%= form_for(@item) do |f| %>
      <%= f.text_field :title, placeholder: "input Title", class: "title-input" %>

      <div class="row" id="editor">
        <%= f.text_area :content, class: "col-md-6 item-input", "v-model" => "content" %>
        <div class="col-md-6 item-preview" v-html="preview"></div>
      </div>

      <%= f.submit "Submit", class: "submit-button" %>
  </div>
<% end %>
</div>
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.6/dist/vue.js"></script>
<script src="https://unpkg.com/marked@0.3.6"></script>
<script>
  new Vue({
    el: '#editor',
    data: {
      content: document.querySelector("[v-model='content']").value
    },
    computed: {
      preview: function() {
        return marked(this.content);
      }
    }
  });
</script>
